<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PlaceTest</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
          integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
          crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
          crossorigin="anonymous"></script>
  <script>
      $(document).ready(function () {
          const recommendContainer = $(".recommendContainer");

          // 사람이 선택한 지역, 나이, 인원 수에 따라서 추천이 달라짐
          $(".recommendButton").on("click", function () {
              const selectLocation = $("#location option:selected").val();
              const selectAge = $("#age option:selected").val();
              const selectPeople = $("#people option:selected").val();

              $.ajax({
                  url: `/place/recommend/${selectLocation}/${selectAge}/${selectPeople}`,
                  type: 'get',
                  dataType: 'json',
                  success: function (data) {
                      recommendContainer.empty();
                      data.forEach(recommend => {
                          let html = `<table>`;
                          html += `<tr>`;
                          html+=`<th>번호</th>`
                          html+=`<th>지역</th>`;
                          html+=`<th>주소</th>`;
                          html+=`<th>인원 수</th>`;
                          html+=`<th>사람 수</th>`;
                          html+=`<th>이름</th>`
                          html+=`</tr>`;

                          html+=`<tr>`;
                          html+=`<td>${recommend.placeIdx}</td>`
                          html+=`<td>${recommend.location}</td>`;
                          html+=`<td>${recommend.address}</td>`;
                          html+=`<td>${recommend.recommendAge}</td>`;
                          html+=`<td>${recommend.numberPeople}</td>`;
                          html+=`<td>${recommend.name}</td>`;
                          html+=`</tr>`;
                          html+=`</table>`
                          recommendContainer.append(html);
                      });
                  }
              });
          });
      });
  </script>
</head>
<body>
<select name="location" id="location">
  <option value="" selected>지역</option>
  <option value="강서구">강서구</option>
  <option value="금정구">금정구</option>
  <option value="기장군">기장군</option>
  <option value="남구">남구</option>
  <option value="동래구">동래구</option>
  <option value="부산진구">부산진구</option>
  <option value="북구">북구</option>
  <option value="사하구">사하구</option>
  <option value="수영구">수영구</option>
  <option value="영도구">영도구</option>
  <option value="중구">중구</option>
  <option value="해운대구">해운대구</option>
</select>
<br>
<select name="age" id="age">
  <option value="" selected>나이</option>
  <option value="1">10세 미만</option>
  <option value="10">10세 이상</option>
  <option value="20">20세 이상</option>
</select>
<br>
<select name="people" id="people">
  <option value="" selected>인원 수</option>
  <option value="1">1명</option>
  <option value="2">2명 이상</option>
  <option value="4">4명 이상</option>
</select>
<br>
<button type="button" class="recommendButton">추천</button>
<br>
<hr>
<br>

<h2>결과</h2>
<div class="recommendContainer">

</div>
</body>
</html>